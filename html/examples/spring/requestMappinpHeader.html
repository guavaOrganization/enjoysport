<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Spring RequestMapping Headers</title>
<script type="text/javascript" src="../../commons/js/jquery-1.11.1.js"></script>
</head>
<body>
	<div>
		<span>Spring RequestMapping headers 学习</span>
		<input type="button" value="headers 学习" onclick="headers_clickMe()">
		<span id="headSpan"></span>
	</div>
	<div>
		<span>Spring RequestMapping cousumes 学习</span>
		<input type="button" value="consumes 学习" onclick="consumes_clickMe()">
		<span id="cousumesSpan"></span>
	</div>
	
	<div>
		<span>Spring RequestMapping produces 学习</span>
		<input type="button" value="produces 学习" onclick="produces_clickMe()">
		<span id="producesSpan"></span>
	</div>
	
	<div>
		<span>Spring RequestMapping params 学习</span>
		<input type="button" value="params 学习" onclick="params_clickMe()">
		<span id="paramsSpan"></span>
	</div>
</body>
<script type="text/javascript">
	function params_clickMe(){
		$.ajax({
			type : 'GET',
			url : '/guava/requestMappingExample/params.guava',
			context : $("#paramsSpan"),
			data : {
				name : 'chenjun',
				jobnumber : '16477',
				sex : '男'
			},
			statusCode : {
				404 : function(){
					$(this).html('狗蛋,params_clickMe方法错误了，又是404呢');
				}
			}		
		});
	}
	
	function produces_clickMe(){
		$.ajax({
			type : 'GET',
			url : '/guava/requestMappingExample/produces.guava',
			accepts : {
				pdf : 'application/pdf'
			},
			dataType : 'xml',// 预计服务器返回的数据类型
			context : $("#producesSpan"),
			statusCode : {
				404 : function(){
					$(this).html('狗蛋,produces又是404');
				}
			}
		});
	}
	
	function consumes_clickMe(){
		$.ajax({
			type : 'GET',
			url : '/guava/requestMappingExample/consumes.guava',
			context : $("#cousumesSpan"),
			contentType : 'application/json;charset=utf-8',
			data : {id : '16477', name : 'chenjun'},
			statusCode : {
				404 : function(){
					$(this).html('妈蛋，consumes_clickMe方法404了')
				}
			}
		})
	}

	function headers_clickMe() {
		$.ajax({
			type : 'GET',
			url : '/guava/requestMappingExample/headers.guava',
			contentType : 'application/xml; charset=UTF-8',//内容类型，一般是指网页中存在的Content-Type，用于定义网络文件的类型和网页的编码，决定浏览器将以什么形式、什么编码读取这个文件。
			context : $("#headSpan"),//设置Ajax相关回调函数的上下文
			dataType : 'json',
			data : {id : '16477', name : 'chenjun'},
			statusCode : {
				404 : function(){
					$(this).html("妈蛋，headers_clickMe找不到页面");
				}
			}
		});
	}
	
</script>
</html>